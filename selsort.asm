.MODEL SMALL
.STACK 64
.DATA
	PROMPT DB 'CONTENTS OF ARRAY AFTER SORTING : $'
	ARRAY DB 5,3,9,0,2,6,1,7,8,4
.CODE
	MAIN PROC
		MOV AX, @DATA
		MOV DS, AX
		MOV BX, 10
		LEA SI, ARRAY
		CALL SELECT_SORT
		LEA DX, PROMPT
		MOV AH, 09H
		INT 21H
		LEA SI, ARRAY
		CALL PRINT_ARRAY
		MOV AH, 4CH
		INT 21H
		MAIN ENDP
	PRINT_ARRAY PROC
		PUSH AX
		PUSH CX
		PUSH DX
		MOV CX, BX
		@PRINT_ARRAY:
			XOR AH, AH
			MOV AL, [SI]
			CALL OUTDEC
			MOV AH, 2
			MOV DL, 20H
			INT 21H
			INC SI
		LOOP @PRINT_ARRAY
		POP DX
		POP CX
		POP AX
		RET
	PRINT_ARRAY ENDP
	SELECT_SORT PROC
		PUSH AX
		PUSH BX
		PUSH CX
		PUSH DX
		PUSH DI
		CMP BX, 1
		JLE @SKIP_SORTING
		DEC BX
		MOV CX, BX
		MOV AX, SI
		@OUTER_LOOP:
			MOV BX, CX
			MOV SI, AX
			MOV DI, AX
			MOV DL, [DI]
			@INNER_LOOP:
				INC SI
				CMP [SI], DL
				JNG @SKIP
				MOV DI, SI
				MOV DL, [DI]
				@SKIP:
					DEC BX
				JNZ @INNER_LOOP
				MOV DL, [SI]
				XCHG DL, [DI]
				MOV [SI], DL
			LOOP @OUTER_LOOP
			@SKIP_SORTING:
				POP DI
				POP DX
				POP CX
				POP BX
				POP AX
				RET
		SELECT_SORT ENDP
	OUTDEC PROC
		PUSH BX
		PUSH CX
		PUSH DX
		XOR CX, CX
		MOV BX, 10
		@OUTPUT:
			XOR DX, DX
			DIV BX
			PUSH DX
			INC CX
			OR AX, AX
		JNE @OUTPUT
		MOV AH, 02H
		@DISPLAY:
			POP DX
			OR DL, 30H
			INT 21H
		LOOP @DISPLAY
		POP DX
		POP CX
		POP BX
		RET
		OUTDEC ENDP
	END MAIN